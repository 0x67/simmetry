generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("SHADOW_DATABASE_URL")
  // directUrl         = env("DIRECT_URL")
  // shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
}

enum ForzaType {
  FH5
  FH4
  FM7
  FM8

  @@map("forza_type")
}

enum ForzaCarClass {
  D
  C
  B
  A
  S1
  S2
  S3
  X

  @@map("forza_car_class")
}

enum ForzaDriveType {
  FWD
  RWD
  AWD

  @@map("forza_drive_type")
}

model ForzaData {
  id         String    @id
  game_type  ForzaType
  is_race_on Boolean   @default(false)
  date_time  DateTime  @db.Timestamptz()

  car_id                Int            @db.Integer()
  car_class             ForzaCarClass
  car_performance_index Int            @db.Integer()
  drive_type            ForzaDriveType
  track_id              Int?           @db.Integer()

  num_cylinders      Int     @db.Integer()
  engine_max_rpm     Decimal @db.Decimal(10, 6)
  engine_idle_rpm    Decimal @db.Decimal(10, 6)
  engine_current_rpm Decimal @db.Decimal(10, 6)

  acceleration_x Decimal @db.Decimal(10, 6)
  acceleration_y Decimal @db.Decimal(10, 6)
  acceleration_z Decimal @db.Decimal(10, 6)

  velocity_x Decimal @db.Decimal(10, 6)
  velocity_y Decimal @db.Decimal(10, 6)
  velocity_z Decimal @db.Decimal(10, 6)

  angular_velocity_x Decimal @db.Decimal(10, 6)
  angular_velocity_y Decimal @db.Decimal(10, 6)
  angular_velocity_z Decimal @db.Decimal(10, 6)

  yaw   Decimal @db.Decimal(10, 6)
  pitch Decimal @db.Decimal(10, 6)
  roll  Decimal @db.Decimal(10, 6)

  normalized_suspension_travel_front_left  Decimal @db.Decimal(10, 6)
  normalized_suspension_travel_front_right Decimal @db.Decimal(10, 6)
  normalized_suspension_travel_rear_left   Decimal @db.Decimal(10, 6)
  normalized_suspension_travel_rear_right  Decimal @db.Decimal(10, 6)

  tire_slip_ratio_front_left  Decimal @db.Decimal(10, 6)
  tire_slip_ratio_front_right Decimal @db.Decimal(10, 6)
  tire_slip_ratio_rear_left   Decimal @db.Decimal(10, 6)
  tire_slip_ratio_rear_right  Decimal @db.Decimal(10, 6)

  wheel_rotation_speed_front_left  Decimal @db.Decimal(10, 6)
  wheel_rotation_speed_front_right Decimal @db.Decimal(10, 6)
  wheel_rotation_speed_rear_left   Decimal @db.Decimal(10, 6)
  wheel_rotation_speed_rear_right  Decimal @db.Decimal(10, 6)

  wheel_on_rumble_strip_front_left  Boolean
  wheel_on_rumble_strip_front_right Boolean
  wheel_on_rumble_strip_rear_left   Boolean
  wheel_on_rumble_strip_rear_right  Boolean

  wheel_in_puddle_front_left  Decimal @db.Decimal(10, 6)
  wheel_in_puddle_front_right Decimal @db.Decimal(10, 6)
  wheel_in_puddle_rear_left   Decimal @db.Decimal(10, 6)
  wheel_in_puddle_rear_right  Decimal @db.Decimal(10, 6)

  surface_rumble_front_left  Decimal @db.Decimal(10, 6)
  surface_rumble_front_right Decimal @db.Decimal(10, 6)
  surface_rumble_rear_left   Decimal @db.Decimal(10, 6)
  surface_rumble_rear_right  Decimal @db.Decimal(10, 6)

  tire_slip_angle_front_left  Decimal @db.Decimal(10, 6)
  tire_slip_angle_front_right Decimal @db.Decimal(10, 6)
  tire_slip_angle_rear_left   Decimal @db.Decimal(10, 6)
  tire_slip_angle_rear_right  Decimal @db.Decimal(10, 6)

  tire_combined_slip_front_left  Decimal @db.Decimal(10, 6)
  tire_combined_slip_front_right Decimal @db.Decimal(10, 6)
  tire_combined_slip_rear_left   Decimal @db.Decimal(10, 6)
  tire_combined_slip_rear_right  Decimal @db.Decimal(10, 6)

  suspension_travel_meters_front_left  Decimal @db.Decimal(10, 6)
  suspension_travel_meters_front_right Decimal @db.Decimal(10, 6)
  suspension_travel_meters_rear_left   Decimal @db.Decimal(10, 6)
  suspension_travel_meters_rear_right  Decimal @db.Decimal(10, 6)

  position_x Decimal? @db.Decimal(10, 6)
  position_y Decimal? @db.Decimal(10, 6)
  position_z Decimal? @db.Decimal(10, 6)

  speed  Decimal? @db.Decimal(10, 6)
  power  Decimal? @db.Decimal(10, 6)
  torque Decimal? @db.Decimal(10, 6)

  tire_temp_front_left  Decimal? @db.Decimal(10, 6)
  tire_temp_front_right Decimal? @db.Decimal(10, 6)
  tire_temp_rear_left   Decimal? @db.Decimal(10, 6)
  tire_temp_rear_right  Decimal? @db.Decimal(10, 6)

  boost             Decimal? @db.Decimal(10, 6)
  fuel              Decimal? @db.Decimal(10, 6)
  distance_traveled Decimal? @db.Decimal(10, 6)

  best_lap          Decimal? @db.Decimal(10, 6)
  last_lap          Decimal? @db.Decimal(10, 6)
  current_lap       Decimal? @db.Decimal(10, 6)
  current_race_time Decimal? @db.Decimal(10, 6)
  lap_number        Int?
  position          Int?

  acceleration Int?
  brake        Int?
  clutch       Int?
  handbrake    Int?
  gear         Int?
  steer        Int?

  normalized_driving_lane        Int?
  normalized_ai_brake_difference Int?
  tire_wear_front_left           Decimal? @db.Decimal(10, 6)
  tire_wear_front_right          Decimal? @db.Decimal(10, 6)
  tire_wear_rear_left            Decimal? @db.Decimal(10, 6)
  tire_wear_rear_right           Decimal? @db.Decimal(10, 6)

  @@map("forza_data")
}
